<div class="d-flex">
  <!-- Sidebar fijo -->
  <div style="position: sticky; top: 0; align-self: flex-start; z-index: 100;">
    <app-sidebar [rol]="rolUsuario"></app-sidebar>
  </div>

  <!-- Contenido principal -->
  <div class="flex-grow-1 p-4" style="background-color: #f4f6fa; min-height: 100vh">
    <div class="d-flex justify-content-between align-items-start flex-wrap mb-4 gap-2">
      <button class="btn btn-primary" (click)="abrirModal()">
        <i class="bi bi-person-fill-add me-1"></i> Registrar Usuario
      </button>
      <h3 class="fw-bold text-nowrap" style="color: #002f5d">
        <i class="bi bi-person-gear me-2"></i>Panel de Administraci√≥n
      </h3>
    </div>

    <!-- Modal -->
    <div
      class="modal fade"
      id="registroUsuarioModal"
      tabindex="-1"
      aria-labelledby="registroUsuarioLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content border-0 shadow">
          <div class="modal-header" style="background-color: #002f5d">
            <h5 class="modal-title text-white" id="registroUsuarioLabel">
              Registrar Usuario
            </h5>
            <button
              type="button"
              class="btn-close btn-close-white"
              data-bs-dismiss="modal"
              aria-label="Cerrar"
            ></button>
          </div>
          <div class="modal-body">
            <form (submit)="registrarUsuario()">
              <div class="mb-3">
                <label for="rut" class="form-label">RUT</label>
                <input
                  type="text"
                  id="rut"
                  class="form-control"
                  [(ngModel)]="usuario.ID_Usuario"
                  name="rut"
                  required
                />
              </div>
              <div class="mb-3">
                <label for="nombre" class="form-label">Nombre</label>
                <input
                  type="text"
                  id="nombre"
                  class="form-control"
                  [(ngModel)]="usuario.Nombre"
                  name="nombre"
                  required
                />
              </div>
              <div class="mb-3">
                <label for="rol" class="form-label">Rol</label>
                <select
                  id="rol"
                  class="form-select"
                  [(ngModel)]="usuario.Rol_ID_Rol"
                  name="rol"
                  required
                >
                  <option value="" disabled selected>Selecciona un rol</option>
                  <option *ngFor="let rol of roles" [value]="rol.ID_Rol">
                    {{ rol.Nombre }}
                  </option>
                </select>
              </div>
              <div class="mb-3">
                <label for="clave" class="form-label">Clave</label>
                <input
                  type="password"
                  id="clave"
                  class="form-control"
                  [(ngModel)]="usuario.Clave"
                  name="clave"
                  required
                />
              </div>
              <button type="submit" class="btn btn-success w-100" style="background-color: #0062c4">
                Registrar
              </button>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
